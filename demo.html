<!doctype html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" href="http://openlayers.org/en/v3.8.2/css/ol.css" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ol3/3.8.2/ol.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <style>
        html, body, #map {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
        }

        #debug {
            white-space: pre-wrap;
            height: 450px;
            width: 450px;
            background-color: rgba(255, 255, 255, 0.6);
            top: 240px;
            left: 65px;
            position: absolute;
            z-index: 100;
        }
    </style>
</head>
<body>
<div id="debug"></div>
<div>Kanimarkerのサンプル</div>
方角を入力: <input autofocus type="number" value="0" min="0" max="359"
              onchange="kanimarker.setDirection(Number(this.value));"> (0 - 359)

<div>円の大きさ</div>
<button onclick="kanimarker.setAccuracy(5);">5m</button>
<button onclick="kanimarker.setAccuracy(10);">10m</button>
<button onclick="kanimarker.setAccuracy(50);">50m</button>

<div>移動</div>
<button onclick="kanimarker.setPosition(ol.proj.transform([137.528032,35.573162], 'EPSG:4326', 'EPSG:3857'));">
    カーリルオフィス
</button>
<button onclick="kanimarker.setPosition(ol.proj.transform([137.531169,35.574658], 'EPSG:4326', 'EPSG:3857'));">坂下駅
</button>
<button onclick="kanimarker.setPosition(ol.proj.transform([137.528262,35.573985], 'EPSG:4326', 'EPSG:3857'));">
    坂下公民館
</button>

<div>モード切り替え</div>
<button onclick="kanimarker.setHeadingUp(true);">追従モード</button>
<button onclick="kanimarker.setHeadingUp(false);">ビューモード</button>

<div></div>
<button onclick="kanimarker.hide();">現在地を消す</button>

<div id="map" class="map"></div>
<script src="kanimarker.js" type="text/javascript"></script>
<script type="text/javascript">
    var layers, map, view;
    tileLayer = new ol.layer.Tile({
        source: new ol.source.XYZ({
            url: 'http://api.tiles.mapbox.com/v4/caliljp.ihofg5ie/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiY2FsaWxqcCIsImEiOiJxZmNyWmdFIn0.hgdNoXE7D6i7SrEo6niG0w',
            maxZoom: 20
        })
    });
    view = new ol.View({
        center: ol.proj.transform([137.528032, 35.573162], 'EPSG:4326', 'EPSG:3857'),
        zoom: 18
    });
    map = new ol.Map({
        layers: [tileLayer],
        target: 'map',
        maxZoom: 26,
        minZoom: 18,
        logo: false,
        view: view
    });
    kanimarker = new Kanimarker(map); // マーカーをインストール
</script>
</body>
</html>